import{j as e}from"./index-CTmt-P1O.js";import{r as h}from"./router-DmZmTQD2.js";import{a as g,o as U,f as N,B as z,P as R,p as G,q as C,b as H,D as Y,r as F,l as J,s as W,t as q,u as K}from"./icons-C3RlEb-g.js";import"./react-vendor-ZjeaK7N3.js";import"./supabase-C8HnRnw-.js";const _=()=>{try{const n=localStorage.getItem("studyPlannerData");if(n)return JSON.parse(n)}catch(n){console.error("Error loading saved data:",n)}return null};function se(){const n=_(),[l,$]=h.useState(n?.examDate||""),[t,b]=h.useState(n?.subjects||[]),[j,S]=h.useState(""),[m,P]=h.useState(4),[c,T]=h.useState(n?.schedule||null),[r,E]=h.useState(n?.completedTopics||{});h.useEffect(()=>{const s={examDate:l,subjects:t,schedule:c,completedTopics:r};localStorage.setItem("studyPlannerData",JSON.stringify(s))},[l,t,c,r]);const f=()=>{j.trim()&&!t.includes(j.trim())&&(b([...t,j.trim()]),S(""))},L=s=>{b(t.filter(a=>a!==s))},y=()=>{if(!l)return 0;const s=new Date,d=new Date(l)-s,o=Math.ceil(d/(1e3*60*60*24));return Math.max(0,o)},O=()=>{if(!l||t.length===0){alert("Please set exam date and add at least one subject");return}const s=y();if(s<=0){alert("Exam date must be in the future");return}const a=Math.floor(s/t.length),d=[],o=new Date;let i=0;t.forEach((u,A)=>{const k=A===t.length-1?s-i:a;for(let x=0;x<k;x++){const p=new Date(o);p.setDate(p.getDate()+i+x),d.push({date:p.toISOString().split("T")[0],day:p.toLocaleDateString("en-US",{weekday:"short"}),subject:u,hours:m,topic:`${u} - Day ${x+1}`,id:`${u}-${x}`})}i+=k}),T(d)},B=s=>{E(a=>({...a,[s]:!a[s]}))},v=()=>{if(!c||c.length===0)return 0;const s=Object.values(r).filter(Boolean).length;return Math.round(s/c.length*100)},M=()=>{if(!c)return;let s=`ðŸ“š My Study Schedule
`;s+=`ðŸ“… Exam Date: ${new Date(l).toLocaleDateString()}
`,s+=`ðŸ“– Subjects: ${t.join(", ")}
`,s+=`â° Hours per day: ${m}

`,s+=`--- Schedule ---

`,c.forEach(i=>{const u=r[i.id]?"âœ…":"â¬œ";s+=`${u} ${i.date} (${i.day}) - ${i.subject} (${i.hours}h)
`});const a=new Blob([s],{type:"text/plain"}),d=URL.createObjectURL(a),o=document.createElement("a");o.href=d,o.download="study-schedule.txt",o.click()},I=()=>{if(!c)return;const s=y();let a=`ðŸ“š *My Study Plan*

`;a+=`ðŸ“… Exam in *${s} days*
`,a+=`ðŸ“– Subjects: ${t.join(", ")}
`,a+=`â° ${m} hours/day
`,a+=`ðŸ“Š Progress: ${v()}%

`,a+="Generated using BrightMindAid ðŸ’ª",window.open(`https://wa.me/?text=${encodeURIComponent(a)}`,"_blank")},D=y(),w=v();return e.jsxs("div",{className:"container py-8",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{className:"header-title-row",children:[e.jsx(g,{size:28,className:"header-icon"}),e.jsx("h1",{className:"text-3xl",children:"Study Planner"})]}),e.jsx("p",{className:"page-description",children:"Create a personalized study schedule based on your exam date. Track your progress and stay on track!"})]}),e.jsxs("div",{className:"planner-grid",children:[e.jsxs("div",{className:"setup-panel",children:[e.jsxs("h3",{children:[e.jsx(U,{size:18})," Setup Your Plan"]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(g,{size:16}),"Exam Date"]}),e.jsx("input",{type:"date",className:"form-input",value:l,onChange:s=>$(s.target.value),min:new Date().toISOString().split("T")[0]}),l&&e.jsxs("div",{className:`countdown ${D<30?"urgent":""}`,children:[e.jsx(N,{size:16}),e.jsxs("span",{children:[D," days until exam"]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(N,{size:16}),"Study Hours Per Day"]}),e.jsx("div",{className:"hours-selector",children:[2,3,4,5,6,8].map(s=>e.jsxs("button",{className:`hour-btn ${m===s?"active":""}`,onClick:()=>P(s),children:[s,"h"]},s))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(z,{size:16}),"Subjects to Study"]}),e.jsxs("div",{className:"subject-input",children:[e.jsx("input",{type:"text",placeholder:"Add a subject...",value:j,onChange:s=>S(s.target.value),onKeyPress:s=>s.key==="Enter"&&f()}),e.jsx("button",{onClick:f,className:"add-btn",children:e.jsx(R,{size:18})})]}),e.jsx("div",{className:"subject-list",children:t.map(s=>e.jsxs("div",{className:"subject-chip",children:[e.jsx("span",{children:s}),e.jsx("button",{onClick:()=>L(s),children:e.jsx(G,{size:14})})]},s))}),t.length===0&&e.jsx("p",{className:"hint-text",children:"Add subjects you need to study"})]}),e.jsxs("button",{className:"btn-primary btn-full",onClick:O,disabled:!l||t.length===0,children:[e.jsx(C,{size:18}),"Generate Study Schedule"]})]}),e.jsx("div",{className:"schedule-panel",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"progress-section",children:[e.jsxs("div",{className:"progress-header",children:[e.jsxs("h3",{children:[e.jsx(H,{size:18})," Your Progress"]}),e.jsxs("span",{className:"progress-percent",children:[w,"%"]})]}),e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar-fill",style:{width:`${w}%`}})}),e.jsx("div",{className:"progress-stats",children:e.jsxs("span",{children:[Object.values(r).filter(Boolean).length," of ",c.length," days completed"]})})]}),e.jsxs("div",{className:"schedule-actions",children:[e.jsxs("button",{className:"action-btn",onClick:M,children:[e.jsx(Y,{size:16}),"Download"]}),e.jsxs("button",{className:"action-btn whatsapp",onClick:I,children:[e.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Share"]})]}),e.jsxs("div",{className:"schedule-list",children:[e.jsxs("h3",{children:[e.jsx(F,{size:18})," Daily Schedule"]}),c.map(s=>{const a=s.date===new Date().toISOString().split("T")[0],d=new Date(s.date)<new Date(new Date().toISOString().split("T")[0]);return e.jsxs("div",{className:`schedule-item ${r[s.id]?"completed":""} ${a?"today":""} ${d&&!r[s.id]?"missed":""}`,onClick:()=>B(s.id),children:[e.jsx("div",{className:"schedule-check",children:r[s.id]?e.jsx(J,{size:20,className:"check-icon"}):e.jsx("div",{className:"check-empty"})}),e.jsxs("div",{className:"schedule-date",children:[e.jsx("span",{className:"date-day",children:s.day}),e.jsx("span",{className:"date-full",children:new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),e.jsxs("div",{className:"schedule-subject",children:[e.jsx("span",{className:"subject-name",children:s.subject}),e.jsxs("span",{className:"subject-hours",children:[s.hours," hours"]})]}),a&&e.jsx("span",{className:"today-badge",children:"Today"}),d&&!r[s.id]&&e.jsx(W,{size:16,className:"missed-icon"})]},s.id)})]})]}):e.jsxs("div",{className:"empty-schedule",children:[e.jsx(g,{size:64,strokeWidth:1}),e.jsx("h3",{children:"No Schedule Yet"}),e.jsx("p",{children:"Set your exam date and subjects, then generate your personalized study schedule."})]})})]}),e.jsxs("div",{className:"study-tips",children:[e.jsxs("h3",{children:[e.jsx(q,{size:18})," Study Tips"]}),e.jsxs("div",{className:"tips-grid",children:[e.jsxs("div",{className:"tip-card",children:[e.jsx(C,{size:24,className:"tip-icon"}),e.jsx("p",{children:"Focus on one subject at a time for better retention"})]}),e.jsxs("div",{className:"tip-card",children:[e.jsx(N,{size:24,className:"tip-icon"}),e.jsx("p",{children:"Take a 10-minute break every 50 minutes of study"})]}),e.jsxs("div",{className:"tip-card",children:[e.jsx(z,{size:24,className:"tip-icon"}),e.jsx("p",{children:"Review previous day's material before starting new topics"})]}),e.jsxs("div",{className:"tip-card",children:[e.jsx(K,{size:24,className:"tip-icon"}),e.jsx("p",{children:"Get 7-8 hours of sleep for better memory consolidation"})]})]})]})]})}export{se as default};
